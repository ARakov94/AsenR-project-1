<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ—Å—Ç–æ—Ä–∞–Ω—Ç ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –†–µ–∑–µ—Ä–≤–∞—Ü–∏–∏</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçΩÔ∏è</text></svg>">
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="header-left">
            <span class="logo">üçΩÔ∏è</span>
            <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –†–µ–∑–µ—Ä–≤–∞—Ü–∏–∏</h1>
        </div>
        <div class="header-right">
            <button id="syncBtn" class="btn btn-secondary" title="–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞–π —Å Google Calendar">
                <span class="btn-icon">üîÑ</span> –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–∞–π
            </button>
            <button id="autoAllocateBtn" class="btn btn-secondary" title="–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–∞—Å–∏">
                <span class="btn-icon">üéØ</span> –ê–≤—Ç–æ-—Ä–∞–∑–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
            </button>
            <button id="editModeBtn" class="btn btn-primary" title="–†–µ–¥–∞–∫—Ç–∏—Ä–∞–π –ø–ª–∞–Ω –Ω–∞ –∑–∞–ª–∞—Ç–∞">
                <span class="btn-icon">‚úèÔ∏è</span> –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π –ø–ª–∞–Ω
            </button>
        </div>
    </header>

    <div class="app-content">
        <!-- Sidebar -->
        <aside class="sidebar">
            <!-- Date Picker -->
            <div class="sidebar-section">
                <h2>üìÖ –î–∞—Ç–∞</h2>
                <input type="date" id="datePicker" class="date-input">
            </div>

            <!-- Reservations List -->
            <div class="sidebar-section">
                <div class="section-header">
                    <h2>üìã –†–µ–∑–µ—Ä–≤–∞—Ü–∏–∏</h2>
                    <button id="addReservationBtn" class="btn btn-small btn-accent" title="–î–æ–±–∞–≤–∏ –Ω–æ–≤–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è">+ –ù–æ–≤–∞</button>
                </div>
                <div id="reservationsList" class="reservations-list">
                    <!-- Rendered by JS -->
                </div>
            </div>

            <!-- Statistics -->
            <div class="sidebar-section stats-section">
                <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-value" id="statTotalGuests">0</span>
                        <span class="stat-label">–ì–æ—Å—Ç–∏</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="statTotalReservations">0</span>
                        <span class="stat-label">–†–µ–∑–µ—Ä–≤–∞—Ü–∏–∏</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="statAvailableTables">0</span>
                        <span class="stat-label">–°–≤–æ–±–æ–¥–Ω–∏</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="statOccupiedTables">0</span>
                        <span class="stat-label">–ó–∞–µ—Ç–∏</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Floor Tabs -->
            <div class="floor-tabs">
                <button class="floor-tab active" data-floor="1">–ï—Ç–∞–∂ 1</button>
                <button class="floor-tab" data-floor="2">–ï—Ç–∞–∂ 2</button>
            </div>

            <!-- Edit Mode Toolbar -->
            <div id="editToolbar" class="edit-toolbar hidden">
                <span class="toolbar-label">–†–µ–¥–∞–∫—Ü–∏—è:</span>
                <button class="btn btn-small" id="addBoothBtn">+ –°–µ–ø–∞—Ä–µ (5 –º–µ—Å—Ç–∞)</button>
                <button class="btn btn-small" id="addSmallTableBtn">+ –ú–∞—Å–∞ (2 –º–µ—Å—Ç–∞)</button>
                <button class="btn btn-small" id="addMediumTableBtn">+ –ú–∞—Å–∞ (4 –º–µ—Å—Ç–∞)</button>
                <button class="btn btn-small" id="addLargeTableBtn">+ –ì–æ–ª—è–º–∞ –º–∞—Å–∞ (8 –º–µ—Å—Ç–∞)</button>
                <button class="btn btn-small btn-danger" id="deleteTableBtn">üóëÔ∏è –ò–∑—Ç—Ä–∏–π –∏–∑–±—Ä–∞–Ω–∞—Ç–∞</button>
                <button class="btn btn-small btn-success" id="saveLayoutBtn">üíæ –ó–∞–ø–∞–∑–∏ –ø–ª–∞–Ω</button>
            </div>

            <!-- Floor Plan -->
            <div id="floorPlan" class="floor-plan">
                <!-- Rendered by JS -->
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item">
                    <span class="legend-color available"></span> –°–≤–æ–±–æ–¥–Ω–∞
                </div>
                <div class="legend-item">
                    <span class="legend-color reserved"></span> –†–µ–∑–µ—Ä–≤–∏—Ä–∞–Ω–∞
                </div>
                <div class="legend-item">
                    <span class="legend-color booth-style"></span> –°–µ–ø–∞—Ä–µ
                </div>
            </div>
        </main>
    </div>

    <!-- Add / Edit Reservation Modal -->
    <div id="reservationModal" class="modal hidden">
        <div class="modal-overlay" id="modalOverlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">–ù–æ–≤–∞ –†–µ–∑–µ—Ä–≤–∞—Ü–∏—è</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <form id="reservationForm">
                <div class="form-group">
                    <label for="resName">–ò–º–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞</label>
                    <input type="text" id="resName" required placeholder="–í—ä–≤–µ–¥–µ—Ç–µ –∏–º–µ">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="resTime">–ß–∞—Å</label>
                        <input type="time" id="resTime" required>
                    </div>
                    <div class="form-group">
                        <label for="resGuests">–ë—Ä–æ–π –≥–æ—Å—Ç–∏</label>
                        <input type="number" id="resGuests" min="1" max="30" required placeholder="2">
                    </div>
                </div>
                <div class="form-group">
                    <label for="resPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" id="resPhone" placeholder="–ù–µ–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ">
                </div>
                <div class="form-group">
                    <label for="resNotes">–ë–µ–ª–µ–∂–∫–∏</label>
                    <textarea id="resNotes" rows="2" placeholder="–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –±–µ–ª–µ–∂–∫–∏"></textarea>
                </div>
                <div class="form-group">
                    <label for="resTable">–ú–∞—Å–∞</label>
                    <select id="resTable">
                        <option value="">-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ --</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="cancelReservation">–û—Ç–∫–∞–∑</button>
                    <button type="submit" class="btn btn-accent">–ó–∞–ø–∞–∑–∏</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Table Info Popup -->
    <div id="tablePopover" class="table-popover hidden">
        <div class="popover-content">
            <h4 id="popoverTitle"></h4>
            <div id="popoverBody"></div>
            <div class="popover-actions" id="popoverActions"></div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="script.js"></script>
</body>
</html>
